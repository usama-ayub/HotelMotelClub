<div class="site__body">
    <app-breadcrumb [pageTitle]="'Product'"></app-breadcrumb>
    <div class="container">
        <div class="shop-layout shop-layout--sidebar--start">
            <div class="shop-layout__sidebar">
                <div class="block block-sidebar">
                    <div class="block-sidebar__item">
                        <div class="widget-filters widget">
                            <h4 class="widget__title">Filters</h4>

                            <div class="widget-filters__list">
                                <div class="widget-filters__item">
                                    <div class="filter" [ngClass]="{'filter--opened ': isFilterCollapse.isCategory}">
                                        <button type="button" class="filter__title"
                                            (click)="filterCollapse('category')">Categories
                                            <svg class="filter__arrow" width="12px" height="7px">
                                                <use xlink:href="assets/images/sprite.svg#arrow-rounded-down-12x7">
                                                </use>
                                            </svg>
                                        </button>
                                        <div class="filter__body">
                                            <div class="filter__container">
                                                <div class="filter-categories">
                                                    <ul class="widget-categories__list">
                                                        <ng-container
                                                            *ngFor="let category of categoryArray; let i = index">
                                                            <li class="widget-categories__item"
                                                                [ngClass]="{'widget-categories__item--open': category.isCollapse}">
                                                                <div class="widget-categories__row">
                                                                    <a>
                                                                        <svg *ngIf="category.child.length !== 0"
                                                                            class="widget-categories__arrow" width="6px"
                                                                            height="9px">
                                                                            <use
                                                                                xlink:href="assets/images/sprite.svg#arrow-rounded-right-6x9">
                                                                            </use>
                                                                        </svg> {{category.name}} </a>
                                                                    <ng-container *ngIf="category.child.length !== 0">
                                                                        <button class="widget-categories__expander"
                                                                            type="button"
                                                                            (click)="categoryCollapse(i)"></button>
                                                                    </ng-container>
                                                                </div>
                                                                <div class="widget-categories__subs"
                                                                    *ngIf="category.child.length !== 0">
                                                                    <ul>
                                                                        <li *ngFor="let child of category.child">
                                                                            <a>{{child.name}}</a></li>
                                                                    </ul>
                                                                </div>
                                                            </li>
                                                        </ng-container>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="widget-filters__item">
                                    <div class="filter" [ngClass]="{'filter--opened ': isFilterCollapse.isPrice}">
                                        <button type="button" class="filter__title"
                                            (click)="filterCollapse('price')">Price
                                            <svg class="filter__arrow" width="12px" height="7px">
                                                <use xlink:href="assets/images/sprite.svg#arrow-rounded-down-12x7">
                                                </use>
                                            </svg>
                                        </button>
                                        <div class="filter__body">
                                            <div class="filter__container">
                                                <div class="filter-price" data-min="500" data-max="1500" data-from="590"
                                                    data-to="1130">
                                                    <div id="slider"
                                                        class="filter-price__slider noUi-target noUi-ltr noUi-horizontal">
                                                    </div>
                                                    <div class="filter-price__title">Price: $<span
                                                            class="filter-price__min-value">{{this.filterPayload.min}}</span>
                                                        â€“ $<span
                                                            class="filter-price__max-value">{{this.filterPayload.max}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="widget-filters__item">
                                    <div class="filter" [ngClass]="{'filter--opened': isFilterCollapse.isSeller}">
                                        <button type="button" class="filter__title"
                                            (click)="filterCollapse('seller')">Seller
                                            <svg class="filter__arrow" width="12px" height="7px">
                                                <use xlink:href="assets/images/sprite.svg#arrow-rounded-down-12x7">
                                                </use>
                                            </svg>
                                        </button>
                                        <div class="filter__body">
                                            <div class="filter__container">
                                                <div class="filter-list">
                                                    <div class="filter-list__list">
                                                        <ng-container *ngFor="let seller of sellerArray; let i = index">
                                                            <label class="filter-list__item" [for]="i"
                                                                [ngClass]="{'filter-list__item--disabled': !seller.availabe}">
                                                                <span class="filter-list__input input-check">
                                                                    <span class="input-check__body">
                                                                        <input class="input-check__input" [id]="i"
                                                                            type="checkbox" [value]="seller.name"
                                                                            (change)="onCheckboxChange($event)"
                                                                            [disabled]="seller.availabe == false ? true : null">
                                                                        <span class="input-check__box"></span>
                                                                        <svg class="input-check__icon" width="9px"
                                                                            height="7px">
                                                                            <use
                                                                                xlink:href="assets/images/sprite.svg#check-9x7">
                                                                            </use>
                                                                        </svg>
                                                                    </span>
                                                                </span>
                                                                <span class="filter-list__title">{{seller.name}} </span>
                                                                <span class="filter-list__counter"></span>
                                                            </label>
                                                        </ng-container>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="widget-filters__item">
                                    <div class="filter" [ngClass]="{'filter--opened ': isFilterCollapse.isBrand}">
                                        <button type="button" class="filter__title"
                                            (click)="filterCollapse('brand')">Brand
                                            <svg class="filter__arrow" width="12px" height="7px">
                                                <use xlink:href="assets/images/sprite.svg#arrow-rounded-down-12x7">
                                                </use>
                                            </svg>
                                        </button>
                                        <div class="filter__body">
                                            <div class="filter__container">
                                                <div class="filter-list">
                                                    <div class="filter-list__list">
                                                        <ng-container *ngFor="let brand of brandArray; let i = index">
                                                            <label class="filter-list__item" [for]="i"
                                                                [ngClass]="{'filter-list__item--disabled': !brand.availabe}">
                                                                <span class="filter-list__input input-radio">
                                                                    <span class="input-radio__body">
                                                                        <input class="input-radio__input" [id]="i"
                                                                            [value]='brand.name' type="radio"
                                                                            [(ngModel)]="filterPayload.brand"
                                                                            name="brand" type="radio"
                                                                            [disabled]="brand.availabe == false ? true : null">
                                                                        <span class="input-radio__circle"></span>
                                                                    </span>
                                                                </span>
                                                                <span class="filter-list__title">{{brand.name}}</span>
                                                                <span class="filter-list__counter"></span>
                                                            </label>
                                                        </ng-container>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="widget-filters__actions d-flex">
                                <button class="btn btn-primary btn-sm" (click)="applyFiler()" [ngClass]="{'btn-loading': isRequestFilter}" [disabled]="isRequestFilter == true ? true : null" [disabled]="isRequestReset == true ? true : null">Filter</button>
                                <button class="btn btn-secondary btn-sm ml-2" [ngClass]="{'btn-loading': isRequestReset}" [disabled]="isRequestFilter == true ? true : null" [disabled]="isRequestReset == true ? true : null">Reset</button>
                            </div> 
                        </div>
                    </div>
                </div>
            </div>
            <div class="shop-layout__content">
                <div class="block">
                    <div class="products-view">
                        <div class="products-view__options">
                            <div class="view-options">
                                <div class="view-options__legend">Showing 6 of 98 products</div>
                                <div class="view-options__divider"></div>
                                <div class="view-options__control"><label for="">Sort By</label>
                                    <div><select class="form-control form-control-sm" name="" id="">
                                            <option value="">Default</option>
                                            <option value="">Name (A-Z)</option>
                                        </select></div>
                                </div>
                                <div class="view-options__control"><label for="">Show</label>
                                    <div><select class="form-control form-control-sm" name="" id="">
                                            <option value="">12</option>
                                            <option value="">24</option>
                                        </select></div>
                                </div>
                            </div>
                        </div>
                        <div class="products-view__list products-list" data-layout="grid-3-sidebar"
                            data-with-features="false">
                            <div class="products-list__body">
                                <div class="products-list__item" *ngFor="let item of [].constructor(15); let i = index">
                                    <app-product></app-product>
                                </div>
                            </div>
                        </div>
                        <div class="products-view__pagination">
                            <app-pagination [page]="filterPayload.page" [totalPages]="filterPayload.totalPages"
                                (onPageChange)="onPageChange($event)">
                            </app-pagination>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>